<html>
<head>
<title>012.hs</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<script>
function navigate(e) {
    var keynum = (window.event) // IE
        ? e.keyCode
        : e.which;
    if (keynum == 8) {
        window.location = "011.java" + ".html";
        return false;
    }
    if (keynum == 13 || keynum == 32) {
        window.location = "013" + ".html";
        return false;
    }
    if (keynum == 73 || keynum == 105) {
        window.location = "index.html";
        return false;
    }
    return true;
}
</script>
</head>
<body onkeypress="return navigate(event)">
<pre>     {-1};system(qq[pugs-DrIFT &quot;$ARGV[0]&quot; -o &quot;$ARGV[1]&quot;]);&lt;&lt;'--'
     -}{-# OPTIONS_GHC -pgmFperl -F -optFdump-load.hs #-}
     {-# LANGUAGE DeriveDataTypeable, PatternGuards #-}
     
     import Control.Monad
     import Data.Typeable
     import Data.Yaml.Syck
     import DrIFT.YAML
     
     data Person = Person
         { name   :: String
         , number :: Int
         , needs  :: [String]
         } deriving Typeable {-!derive: YAML!-}
     
     object1 = Person
         { name   = &quot;Ingy dot Net&quot;
         , number = 42
         , needs  = [ &quot;sex&quot;, &quot;drugs&quot;, &quot;rock and roll&quot; ]
         }
     
     main = do
         yaml1 &lt;- toYamlString object1
         object2 &lt;- fromYamlString yaml1
         yaml2 &lt;- toYamlString (object2 :: Person)
         if yaml1 == yaml2
             then putStr yaml1
             else fail $ yaml1 ++ &quot;!=\n&quot; ++ yaml2
     
     --
</pre>
</body>
